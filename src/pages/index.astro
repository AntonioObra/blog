---
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";

import BaseHead from "../components/BaseHead.astro";
import Spotlight from "../components/Spotlight.astro";
import Navbar from "../components/Navbar.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

import { getCollection } from "astro:content";
import FormattedDate from "../components/FormattedDate.astro";

const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<!doctype html>
<html lang="en" class="dark">
    <head>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    </head>

    <body class="scheme-dark bg-slate-950 relative">
        <Spotlight />

        <main class="grid grid-cols-6 container max-w-6xl mx-auto gap-20 py-60">
            <div class="col-span-4">
                <section id="about">
                    <h1>blog.obradovic</h1>
                    <p class="mt-8">
                        I am a full-stack developer with a passion for creating
                        beautiful and functional user experiences. I am a
                        self-taught developer and I have been coding for over 2
                        years. I have experience working with React, NextJS, PHP
                        and more.
                    </p>
                    <p class="mt-5">
                        I base my work on the principles of <span
                            class="border-b-2 border-primary"
                            >functionality</span
                        > and <span class="border-b-2 border-primary"
                            >simplicity</span
                        >. I believe that less is more and that the best
                        solutions are the simplest ones.
                    </p>
                    <p class="mt-5">
                        My web development journey started in 2020 when I was
                        reintroduced to the wonders of html and css and have
                        gotten hooked immediately, since than i've gotten
                        familiar with tons of new technologies like git and
                        github, javascript and typescript, react and nextjs,
                        nodejs and express, mongo and firebase... and went to
                        land my first job 6 months after graduationg from
                        highschool.
                    </p>
                </section>

                <section class="mt-60" id="blogs">
                    <ul class="space-y-4">
                        {
                            posts.map((post) => (
                                <li>
                                    <a href={`/blog/${post.id}/`}>
                                        <article class="p-4 border-b-2 border-slate-400 flex items-center justify-between gap-4 z-40 relative hover:border-blue-500 duration-300 ">
                                            <h2 class="text-[16px] italic text-stone-400 font-semibold">
                                                {post.data.title}
                                            </h2>

                                            <p class="date">
                                                <FormattedDate
                                                    date={post.data.pubDate}
                                                />
                                            </p>
                                        </article>
                                    </a>
                                </li>
                            ))
                        }
                    </ul>
                </section>
            </div>

            <Navbar />
        </main>

        <Footer />
    </body>
</html>
